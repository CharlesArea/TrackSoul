!function(){"use strict";const t="https://0a08e46e402c.ngrok.io/users_data",e=document.getElementById("TrackSoul").getAttribute("domain_name");document.getElementById("TrackSoul").getAttribute("client_id"),document.getElementById("TrackSoul").getAttribute("client_key");function n(t){var e=new XMLHttpRequest;e.open("POST",data_endpoint),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify(t))}function o(t){var e=Math.floor(t/6e4),n=(t%6e4/1e3).toFixed(0);return e+":"+(n<10?"0":"")+n}function i(t){const e=(t,n)=>t?e(t.previousElementSibling,n||t.localName)+(t.localName==n):1,n=t=>t&&1===t.nodeType?t.id&&document.getElementById(t.id)===t?[`id("${t.id}")`]:[...n(t.parentNode),`${t.localName.toLowerCase()}[${e(t)}]`]:[""];return n(t).join("/")}function a(){var t=function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}("shiling_tracking");if(""!=t)return t;var e=function(t=10){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e}();return""!=e&&null!=e?(function(t,e,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=t+"="+e+";"+i+";path=/"}("shiling_tracking",e,365),!1):void 0}function r(){return new Promise((function(t,e){!function(t,e,n,o=null){var i;try{i=new XMLHttpRequest}catch(t){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return alert("Your browser does not support Ajax."),!1}}}i.onreadystatechange=function(){4==i.readyState&&n(i)},i.open(e,t,!0),i.send(o)}("https://www.cloudflare.com/cdn-cgi/trace","get",(function(e){var n=e.responseText.split("\n"),o=n[2].split("=")[1];n[8];return t(o),o}))}))}!function(t,e){var o,i={},c=window.location.href,l=document.referrer,s=navigator.userAgent,u=navigator.language,d=navigator.platform,g=(o=new Date).getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds(),_=window.location.hostname,p=a();r().then(o=>(i={result:{data_type:"visitor_visiting",currect_domain:_,current_visiting_url:c,visitor_from:l,visitor_browser:s,visitor_os_platform:d,visitor_browser_language:u,server_time:g,client_cookie_id:p,client_ip_address:o},status_code:200},console.log(i),e==_?(n(t),console.log("Data has been successfully logged")):console.log("I cannot post data from another domain"),i))}(t,e),function(t,e,r){const c=document.querySelector("input");if(null==c)return null;r&&c.addEventListener("input",(function(r){var c=a(),l=i(r.srcElement),s=window.location.href,u=o(performance.now()),d=r.data,g=(d={result:{data_type:"visitor_typing",current_visiting_url:s,client_cookie_id:c,element_xpath:l,input_time:u,input_type:r.inputType,input_data:d},status_code:200},window.location.hostname);e==g?(console.log(d),console.log("Data has been successfully logged"),n(t,page_data)):(console.log(d),console.log("I cannot post data from another domain"))}))}(t,e,!0),async function(t,e,r){if(r){var c={};document.addEventListener("click",(function(t){var r=window.location.href,l=t.clientX,s=t.clientY,u=t.pageX,d=t.pageY,g=t.type,_=a(),p=o(performance.now()),f=(_=a(),i(t.srcElement));c={result:{data_type_code:1,data_type:"visitor_behaviour",client_cookie_id:_,current_visiting_url:r,client_position_x:l,client_position_y:s,page_position_x:u,page_position_y:d,client_action:g,element_xpath:f,click_time:p},status_code:200};var m=window.location.hostname;e==m?(console.log(c),console.log("Data has been successfully logged"),n(pdata_endpoint,age_data)):(console.log(c),console.log("I cannot post data from another domain"))}))}}(0,e,!0),async function(t,e,r,c,l,s){if(r){var u={},d=(g=l,(new XPathEvaluator).evaluate(g,document.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue);if(window.location.href!=c)return console.log("Specific tracking unabled due to the href incorrect"),null;d.addEventListener("click",(function(r){var c=window.location.href,l=r.clientX,d=r.clientY,g=r.pageX,_=r.pageY,p=r.type,f=a(),m=o(performance.now()),h=(f=a(),i(r.srcElement));u={result:{data_type:"visitor_specific_behaviour",current_visiting_url:c,client_position_x:l,client_position_y:d,page_position_x:g,page_position_y:_,client_action:p,element_xpath:h,click_time:m,client_cookie_id:f,value_for:s=s},status_code:200};var v=window.location.hostname;e==v?(console.log(u),console.log("Data has been successfully logged"),n(t)):(console.log(u),console.log("I cannot post data from another domain"))}))}var g}(t,e,!0,"http://localhost:3000/index.html","/html[1]/body[1]/h1[3]","Test Specifc path")}();
